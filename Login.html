<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Login â€“ To-Do Pro</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:"Poppins", sans-serif;
}

/* === Split Screen Layout === */
body{
    height:100vh;
    display:flex;
}

/* Left Image Side */
.left-side{
    flex:1;
    background:url(b13e6075a14ffddb6cd8c9e5069b8909fada46e8.webp)
        no-repeat center/cover;
    position:relative;
}

.left-side::before{
    content:"";
    position:absolute;
    inset:0;
    background:rgba(0,0,0,0.45);
}

/* Right Side Form */
.right-side{
    flex:1;
    background:rgba(255,255,255,0.10);
    backdrop-filter:blur(15px);
    display:flex;
    justify-content:center;
    align-items:center;
    padding:40px;
}

.login-box{
    width: 100%;
    max-width: 500px;
    background: #F5CBCB;
    border-radius:16px;
    padding:40px;
    box-shadow:0 8px 25px rgba(0,0,0,0.20);
    backdrop-filter: blur(20px);
    animation: fadeIn 1s ease;
}

/* Title */
.login-box h2{
    color:white;
    text-align:center;
    margin-bottom:25px;
    font-size:32px;
}

/* Input Group */
.input-group{
    margin-bottom:20px;
}

.input-group label{
    color:#747678;
    ;
    font-size:14px;
}

.input-group input{
    width:100%;
    padding:12px;
    margin-top:6px;
    border:none;
    outline:none;
    border-radius:10px;
    background:rgba(255,255,255,0.85);
    font-size:15px;
    transition:0.3s;
}

.input-group input:focus{
    background:white;
    transform:scale(1.02);
    box-shadow:0 4px 12px rgba(255,255,255,0.35);
}

/* Error Text */
.error{
    color:#b65b5b;
    font-size:13px;
    margin-top:5px;
    display:none;
}

/* Button */
.login-btn{
    width:100%;
    padding:12px;
    background:#748DAE;
    color:#fff;
    font-size:15px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    margin-top:10px;
    transition:0.3s;
    box-shadow:0 6px 18px rgba(255,255,255,0.2);
}

.login-btn:hover{
    background:white;
    color: #748DAE;
    transform: translateY(-4px);
    box-shadow:0 10px 25px rgba(255,255,255,0.4);
}

/* Animation */
@keyframes fadeIn{
    from{opacity:0; transform:translateY(20px);}
    to{opacity:1; transform:translateY(0);}
}
</style>
</head>

<body>

<!-- Left Image -->
<div class="left-side"></div>

<!-- Right Login Form -->
<div class="right-side">
<div class="login-box">
    <h2>Welcome Back</h2>

    <form id="loginForm">

        <!-- Email -->
        <div class="input-group">
            <label>Email</label>
            <input type="text" id="email" placeholder="example@mail.com">
            <div class="error" id="emailError">This field is required</div>
        </div>

        <!-- Password -->
        <div class="input-group">
            <label>Password</label>
            <input type="password" id="password" placeholder="Enter your password">
            <div class="error" id="passError">This field is required</div>
        </div>

        <button class="login-btn" type="submit">Login</button>
    </form>
</div>
</div>

<script>
// ===== LOGIN LOGIC =====

document.getElementById("loginForm").addEventListener("submit", function(e){
    e.preventDefault();

    let email = document.getElementById("email").value.trim();
    let pass = document.getElementById("password").value.trim();

    let valid = true;

    let users = JSON.parse(localStorage.getItem("users")) || [];

    let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    // Empty Email
    if(email === ""){
        document.getElementById("emailError").innerText = "Email is required";
        document.getElementById("emailError").style.display = "block";
        valid = false;
    }
    else if(!emailPattern.test(email)){
        document.getElementById("emailError").innerText = "Invalid email format";
        document.getElementById("emailError").style.display = "block";
        valid = false;
    }
    else{
        document.getElementById("emailError").style.display = "none";
    }

    // Empty Password
    if(pass === ""){
        document.getElementById("passError").innerText = "Password is required";
        document.getElementById("passError").style.display = "block";
        valid = false;
    }
    else{
        document.getElementById("passError").style.display = "none";
    }

    if(!valid) return;

    // Check if email exists
    let user = users.find(u => u.email === email);

    if(!user){
        document.getElementById("emailError").innerText = "Email not found";
        document.getElementById("emailError").style.display = "block";
        return;
    }

    // Check password
    if(user.password !== pass){
        document.getElementById("passError").innerText = "Incorrect password";
        document.getElementById("passError").style.display = "block";
        return;
    }

    // Successful login
localStorage.setItem("currentUser", email);
alert("Login successful!");
window.location.href = "todo.html";

});
</script>

</body>
</html>
